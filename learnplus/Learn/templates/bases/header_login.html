<!DOCTYPE html>
<html lang="en" dir="ltr">


<!-- Mirrored from learnplus-bootstrap.frontendmatter.com/guest-login.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 10 Apr 2020 14:24:12 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Login</title>

    <!-- Prevent the demo from appearing in search engines (REMOVE THIS) -->
    <meta name="robots" content="noindex">

    <!-- Perfect Scrollbar -->
    <link type="text/css" href="/static/assets/vendor/perfect-scrollbar.css" rel="stylesheet">

    <!-- Material Design Icons -->
    <link type="text/css" href="/static/assets/css/material-icons.css" rel="stylesheet">
    <link type="text/css" href="/static/assets/css/material-icons.rtl.css" rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link type="text/css" href="/static/assets/css/fontawesome.css" rel="stylesheet">
    <link type="text/css" href="/static/assets/css/fontawesome.rtl.css" rel="stylesheet">

    <!-- App CSS -->
    <link type="text/css" href="/static/assets/css/app.css" rel="stylesheet">
    <link type="text/css" href="/static/assets/css/app.rtl.css" rel="stylesheet">

</head>

{% block content %}

{% endblock content %}

   <!-- jQuery -->
   <script src="/static/assets/vendor/jquery.min.js"></script>

   <!-- Bootstrap -->
   <script src="/static/assets/vendor/popper.min.js"></script>
   <script src="/static/assets/vendor/bootstrap.min.js"></script>

   <!-- Perfect Scrollbar -->
   <script src="/static/assets/vendor/perfect-scrollbar.min.js"></script>

   <!-- MDK -->
   <script src="/static/assets/vendor/dom-factory.js"></script>
   <script src="/static/assets/vendor/material-design-kit.js"></script>

   <!-- App JS -->
   <script src="/static/assets/js/app.js"></script>

   <!-- Highlight.js -->
   <script src="/static/assets/js/hljs.js"></script>

   <!-- App Settings (safe to remove) -->
   <script src="/static/assets/js/app-settings.js"></script>

   <!-- axios -->
   <script src="/static/assets/js/axios.js"></script>

   <!-- vue -->
   <script src="/static/assets/js/vue.js"></script>

   <script>
    // Block Vue JS  
    new Vue({
        el: '#login',
        data: {
            username: '',
            password: '',
            isregister: false,
            loader: false,
            isSuccess: false,
            error: false,
            base_url: window.location.protocol + "//" + window.location.host ,
        },
        delimiters: ["${", "}"],
        mounted() { },
        methods: {
            login: function () {
                if (!this.isregister) {
                    this.error = false
                    this.isSuccess = false
                    this.isregister = true
                    if (this.username == "" || this.password == "") {
                        this.message = "Veuillez remplir correctement les champs";
                        this.error = true
                        this.isSuccess = false
                        this.isregister = false;
                    } else {
                        axios.defaults.xsrfCookieName = 'csrftoken'
                        axios.defaults.xsrfHeaderName = 'X-CSRFToken'
                        axios.post(this.base_url + '/post', {
                            username: '' + this.username,
                            password: '' + this.password,
                        }).then(response => {
                            console.log(response)
                            this.isregister = false;
                            if (response.data.success) {
                                this.isSuccess = true
                                this.error = false
                                this.message = response.data.message
                                this.success = response.data.success
                                var url_string = window.location.href; //window.location.href
                                var url = new URL(url_string);
                                var next = url.searchParams.get("next");
                                console.log(next);
                                if (next != ""){
                                    window.location.replace(this.base_url + "/student");

                                }else{
                                    location.reload();

                                }
                            } else {
                                this.error = true
                                this.message = response.data.message
                                this.success = response.data.success
                                this.isSuccess = false
                            }
                            console.log("success variable" + this.isSuccess)
                            // console.log("success variable"+this.error)
                        })
                            .catch((err) => {
                                this.isregister = false;
                                console.log(err);
                            })
                    }
                }
            },
        }
    });
</script>
   





</body>


<!-- Mirrored from learnplus-bootstrap.frontendmatter.com/guest-login.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 10 Apr 2020 14:24:13 GMT -->
</html>